@font-face {
  font-family: 'JetBrains Mono';
  src: url('/fonts/JetBrainsMono-Variable.woff2') format('woff2');
  font-weight: 100 800;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Fira Code';
  src: url('/fonts/FiraCode-Variable.woff2') format('woff2');
  font-weight: 300 700;
  font-style: normal;
  font-display: swap;
}

@import "tailwindcss";

@theme {
  /* Backgrounds */
  --color-doom-black: oklch(0.10 0.00 0);
  --color-doom-dark: oklch(0.15 0.01 30);
  --color-doom-surface: oklch(0.20 0.02 30);

  /* Primary Accents */
  --color-doom-red: oklch(0.60 0.25 25);
  --color-doom-glow: oklch(0.65 0.28 25);
  --color-doom-fire: oklch(0.70 0.20 55);
  --color-doom-yellow: oklch(0.85 0.18 90);

  /* Status */
  --color-doom-green: oklch(0.65 0.20 145);
  --color-doom-blue: oklch(0.55 0.20 260);

  /* Text */
  --color-doom-text: oklch(0.90 0.01 90);
  --color-doom-text-muted: oklch(0.55 0.01 90);

  /* Font Families */
  --font-mono: 'JetBrains Mono', 'Fira Code', monospace;
  --font-doom-title: 'Metal Mania', cursive;
  --font-doom-ui: 'Michroma', sans-serif;
}

/* ── Global Resets ────────────────────────────── */
html {
  background: radial-gradient(
    ellipse at 50% 100%,
    oklch(0.18 0.08 30) 0%,
    oklch(0.12 0.04 20) 40%,
    oklch(0.08 0.01 0) 100%
  );
  background-attachment: fixed;
  color: var(--color-doom-text);
  min-height: 100vh;
}

/* ── Signature CSS Effects ────────────────────── */

.doom-glow {
  text-shadow:
    0 0 7px var(--color-doom-glow),
    0 0 10px var(--color-doom-glow),
    0 0 21px var(--color-doom-glow),
    0 0 42px var(--color-doom-red),
    0 0 82px var(--color-doom-red);
}

/* Pulsing glow for title — uses opacity for GPU compositing */
.doom-glow-pulse {
  animation: glow-pulse 3s ease-in-out infinite;
  will-change: opacity;
}

@keyframes glow-pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

.metal-text {
  background: linear-gradient(180deg,
    #BAC7C4 0%, #7f7f7f 30%, #3b3b3b 50%,
    #cb5e29 70%, #874307 100%
  );
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

/* Animated scanlines with flicker */
.scanlines::before {
  content: '';
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    0deg,
    rgba(0, 0, 0, 0.15),
    rgba(0, 0, 0, 0.15) 1px,
    transparent 1px,
    transparent 2px
  );
  pointer-events: none;
  z-index: 10;
  animation: scanline-flicker 8s linear infinite;
  will-change: opacity;
}

@keyframes scanline-flicker {
  0%, 94%, 100% { opacity: 1; }
  95% { opacity: 0.6; }
  96% { opacity: 1; }
  97% { opacity: 0.7; }
  98% { opacity: 1; }
}

.vignette::after {
  content: '';
  position: fixed;
  inset: 0;
  background: radial-gradient(
    ellipse at center,
    transparent 60%,
    rgba(0, 0, 0, 0.6) 100%
  );
  pointer-events: none;
  z-index: 50;
}

/* ── Metal Beveled Panels ─────────────────────── */

.metal-panel {
  background: linear-gradient(
    180deg,
    oklch(0.22 0.02 30) 0%,
    oklch(0.17 0.01 30) 100%
  );
  border: 1px solid oklch(0.28 0.02 30);
  box-shadow:
    inset 0 1px 0 oklch(0.30 0.02 30),
    inset 0 -1px 0 oklch(0.10 0.01 30),
    0 2px 8px rgba(0, 0, 0, 0.4);
  border-radius: 6px;
}

.metal-panel-inset {
  background: linear-gradient(
    180deg,
    oklch(0.10 0.01 30) 0%,
    oklch(0.13 0.01 30) 100%
  );
  border: 1px solid oklch(0.08 0.00 0);
  box-shadow:
    inset 0 2px 4px rgba(0, 0, 0, 0.5),
    inset 0 -1px 0 oklch(0.18 0.01 30);
  border-radius: 6px;
}

/* ── Preview Glow Border ──────────────────────── */

.preview-glow-border {
  box-shadow:
    0 0 8px rgba(255, 50, 30, 0.15),
    0 0 20px rgba(255, 50, 30, 0.08),
    inset 0 2px 4px rgba(0, 0, 0, 0.5);
  animation: border-glow 4s ease-in-out infinite;
  will-change: box-shadow;
}

@keyframes border-glow {
  0%, 100% {
    box-shadow:
      0 0 8px rgba(255, 50, 30, 0.15),
      0 0 20px rgba(255, 50, 30, 0.08),
      inset 0 2px 4px rgba(0, 0, 0, 0.5);
  }
  50% {
    box-shadow:
      0 0 12px rgba(255, 50, 30, 0.3),
      0 0 30px rgba(255, 50, 30, 0.15),
      inset 0 2px 4px rgba(0, 0, 0, 0.5);
  }
}

/* ── ASCII Preview Glow (CSS-variable driven) ─── */

.ascii-glow span {
  text-shadow:
    0 0 calc(var(--glow-intensity, 0) * 0.07px) var(--glow-color, #ff3f3f),
    0 0 calc(var(--glow-intensity, 0) * 0.2px) var(--glow-color, #ff3f3f),
    0 0 calc(var(--glow-intensity, 0) * 0.42px) var(--glow-color, #ff3f3f),
    0 0 calc(var(--glow-intensity, 0) * 0.82px) var(--glow-color, #ff3f3f);
}

/* ── Custom Range Sliders ─────────────────────── */

input[type="range"] {
  -webkit-appearance: none;
  appearance: none;
  width: 100%;
  height: 6px;
  background: oklch(0.15 0.01 30);
  border: 1px solid oklch(0.25 0.02 30);
  border-radius: 0;
  outline: none;
}

input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 14px;
  height: 14px;
  background: var(--color-doom-red);
  border: 1px solid var(--color-doom-glow);
  border-radius: 2px;
  cursor: pointer;
  box-shadow: 0 0 6px rgba(255, 50, 30, 0.4);
}

input[type="range"]::-moz-range-thumb {
  width: 14px;
  height: 14px;
  background: var(--color-doom-red);
  border: 1px solid var(--color-doom-glow);
  border-radius: 2px;
  cursor: pointer;
  box-shadow: 0 0 6px rgba(255, 50, 30, 0.4);
}

input[type="range"]:focus::-webkit-slider-thumb {
  box-shadow: 0 0 10px rgba(255, 50, 30, 0.6);
}

/* ── DOOM Button ──────────────────────────────── */

.doom-btn {
  background: linear-gradient(180deg, oklch(0.22 0.02 30), oklch(0.16 0.01 30));
  border: 1px solid oklch(0.28 0.02 30);
  color: var(--color-doom-text-muted);
  font-family: var(--font-mono);
  font-size: 0.8rem;
  padding: 0.4rem 0.75rem;
  border-radius: 3px;
  cursor: pointer;
  transition: all 0.15s ease;
  box-shadow: inset 0 1px 0 oklch(0.30 0.02 30);
}

.doom-btn:hover {
  color: var(--color-doom-text);
  border-color: var(--color-doom-red);
  box-shadow:
    inset 0 1px 0 oklch(0.30 0.02 30),
    0 0 8px rgba(255, 50, 30, 0.2);
}

.doom-btn:active {
  background: linear-gradient(180deg, oklch(0.14 0.01 30), oklch(0.18 0.01 30));
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.4);
}

.doom-btn.active {
  color: var(--color-doom-text);
  border-color: var(--color-doom-red);
  background: linear-gradient(180deg, oklch(0.25 0.04 25), oklch(0.18 0.02 25));
  box-shadow:
    inset 0 1px 0 oklch(0.32 0.04 25),
    0 0 8px rgba(255, 50, 30, 0.2);
}

/* ── DOOM Input ───────────────────────────────── */

.doom-input {
  background: oklch(0.10 0.00 0);
  border: 1px solid oklch(0.25 0.02 30);
  color: var(--color-doom-text);
  font-family: var(--font-mono);
  padding: 0.5rem 0.75rem;
  border-radius: 3px;
  outline: none;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
  transition: border-color 0.15s ease;
  width: 100%;
}

.doom-input:focus {
  border-color: var(--color-doom-red);
  box-shadow:
    inset 0 2px 4px rgba(0, 0, 0, 0.3),
    0 0 6px rgba(255, 50, 30, 0.15);
}

.doom-input::placeholder {
  color: var(--color-doom-text-muted);
}

/* ── DOOM Select ──────────────────────────────── */

.doom-select {
  background: oklch(0.10 0.00 0);
  border: 1px solid oklch(0.25 0.02 30);
  color: var(--color-doom-text);
  font-family: var(--font-mono);
  padding: 0.5rem 0.75rem;
  border-radius: 3px;
  outline: none;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
  transition: border-color 0.15s ease;
  width: 100%;
}

.doom-select:focus {
  border-color: var(--color-doom-red);
}

/* ── Scrollbar Styling ────────────────────────── */

::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: oklch(0.10 0.00 0);
}

::-webkit-scrollbar-thumb {
  background: oklch(0.25 0.02 30);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: oklch(0.35 0.03 30);
}

/* ── Reduced Motion ───────────────────────────── */

@media (prefers-reduced-motion: reduce) {
  .doom-glow-pulse,
  .scanlines::before,
  .preview-glow-border {
    animation: none !important;
  }

  * {
    transition-duration: 0s !important;
    animation-duration: 0s !important;
  }
}
